{"version":3,"sources":["service/api.js","pages/login/index.js","components/ListItem/index.js","pages/sistema/index.js","routes.js","App.js","index.js"],"names":["api","axios","create","baseURL","Login","history","useHistory","useState","email","setEmail","senha","setSenha","checkToken","a","keyAuth","localStorage","getItem","console","log","get","then","res","data","push","e","preventDefault","post","status","setItem","auth","nome","token","alert","useEffect","className","onSubmit","type","placeholder","value","onChange","target","required","ListItem","dev","telefone","Sistema","itens","setItens","response","removeItem","loadItens","class","onClick","map","item","key","_id","Routes","exact","path","component","Lista","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4af736ab.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n    baseURL: 'https://avainformatica-io.umbler.net' \n});\n \nexport default api;","import React, { useState, useEffect } from 'react';\nimport './style.css'\nimport api from '../../service/api.js';\nimport { useHistory } from 'react-router-dom'\nfunction Login() {\n\tconst history = useHistory();\n\tconst [ email, setEmail ] = useState('');\n\tconst [ senha, setSenha ] = useState('');\n\tuseEffect(() => {\n\t\tcheckToken();\n\t}, []);\n\tasync function checkToken(){\n\t\tconst keyAuth = localStorage.getItem(\"auth\");\n\t\tconsole.log(keyAuth);\n\t\tawait api.get(`/checkAuth/${keyAuth}`)\n\t\t.then(res => {\n\t\t\tif(res.data === true){\n\t\t\t\thistory.push(\"/list\");\n\t\t\t}else{\n\t\t\t\tconsole.log(\"Houve um problema com login.\");\n\t\t\t}\n\t\t});\n\t}\n\n\tasync function hundleSubmit(e) {\n\t\te.preventDefault();\n\t\tawait api.post(`/auth`, { email, senha })\n\t    .then(res => {\n\t\t\tconsole.log(res);\n\t\t\tif(res.data.status == true){\n\t\t\t\tlocalStorage.setItem(\"nome\", res.data.auth.nome);\t\n\t\t\t\tlocalStorage.setItem('auth', res.data.auth.token);\n\t\t\t} else{\n\t\t\t\talert(\"Erro ao realizar login.\");\n\t\t\t}\n\t    });\n\t    checkToken();\n    }\n\n\treturn(\n\t\t<form className=\"formulario\" onSubmit={hundleSubmit}>\n      \t\t<div className=\"form-group\">\n        \t\t<label> Seu melhor email: </label>\n        \t\t<input \n\t\t\t        type=\"email\"\n\t\t\t        className=\"form-control\" \n\t\t\t        placeholder=\"exemplo@email.com\"\n\t\t\t        value={email}\n\t\t\t        onChange={e => setEmail(e.target.value)}\n\t\t\t        required\n\t\t\t    />\n        \t</div>\n        \t<div className=\"form-group\">\n        \t\t<label> Sua senha: </label>\n        \t\t<input \n        \t\t\ttype=\"password\"\n\t\t\t        className=\"form-control\" \n\t\t\t        placeholder=\"*******\"\n\t\t\t        value={senha}\n\t\t\t        onChange={e => setSenha(\te.target.value)}\n\t\t\t        required\n\t\t\t    />\n        \t</div>\n        \t<input type=\"submit\" className=\"btn btn-primary float-right\" value=\"Acessar\" />\n        \t<div className=\"clear\"></div>\n      \t</form>\n\t);\n}\n\nexport default Login;","import React from 'react';\nimport './style.css';\nfunction ListItem({dev}){    \n    return (\n        <li className=\"item\">\n            <p>{dev.nome}</p>\n            <p>{dev.email}</p>\n            <p>{dev.telefone}</p>\n        </li>\n    );\n}\n\nexport default ListItem;","import React, { useState, useEffect } from 'react';\nimport api from '../../service/api';\nimport { useHistory } from 'react-router-dom';\nimport './style.css';\n\n\nimport ListItem from '../../components/ListItem/'\nfunction Sistema() {\n\tconst history = useHistory();\n\tconst [itens, setItens] = useState([]);\n\n\tuseEffect(() => {\n\t\t\n\t\tloadItens();\n\t\tcheckToken();\n\t},[]);\n\tasync function loadItens(){\n\t\tconst response = await api.get(\"/cadastros\");\n\t\tsetItens(response.data);\n\t}\n    async function checkToken(){\n\t\tconst keyAuth = localStorage.getItem(\"auth\");\n\t\tconsole.log();\n\t\tif(keyAuth){\n\t\t\tawait api.get(`/checkAuth/${keyAuth}`)\n\t\t\t.then(res => {\n\t\t\t\tif(res.data === false){\n\t\t\t\t\tlocalStorage.removeItem(\"auth\");\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tlocalStorage.removeItem(\"auth\");\n\t\t\thistory.push(\"/\");\n\t\t}\n\t}\n\n\tfunction logout(){\n\t\tlocalStorage.removeItem(\"auth\");\n\t\thistory.push(\"/\");\n\t}\n\n\n\tconst nome = localStorage.getItem(\"nome\");\n\t\n\treturn(\n\t\t<>\n\t\t<h1>{nome}</h1>\n\t\t<button class=\"btn-danger\" onClick={logout}>Sair</button>\n\t\t<div class='clear'></div>\n\t\t<main>\n        \t<ul>\n          \t\t{itens.map(item => ( <ListItem key={item._id} dev={item} /> ))}\n        \t</ul>\n      \t</main>\n\t\t  </>\n\t);\n}\n\nexport default Sistema;","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\n\nimport Login from './pages/login/';\nimport Lista from './pages/sistema/';\n\nconst Routes = () => (\n\t<BrowserRouter>\n\t\t<Switch>\n\t\t\t<Route exact path=\"/\" component={Login} />\n\t\t\t<Route exact path=\"/list\" component={Lista} />\n\t\t</Switch>\n\t</BrowserRouter>\n);\n\n\nexport default Routes;","import React from 'react';\n\nimport './css/style.css';\nimport Routes from './routes.js';\n\nfunction App() {\n  return (\n  <>\n\n  <header>\n      <h2>ADM Sobradinho</h2>\n    </header>\n    <section>\n \n      <Routes />\n    </section>\n    <footer>\n      <p> &copy; Todos os Direitos Reservados </p>\n      <p> Criado por Andr√© Junior </p>\n\n    </footer>\n  </>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}